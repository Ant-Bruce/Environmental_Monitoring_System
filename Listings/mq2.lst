C51 COMPILER V9.60.7.0   MQ2                                                               05/05/2023 16:30:08 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE MQ2
OBJECT MODULE PLACED IN .\Objects\mq2.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE Tool\mq2.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\Public;.\Tool) DEBUG OBJECT
                    -EXTEND PRINT(.\Listings\mq2.lst) TABS(2) OBJECT(.\Objects\mq2.obj)

line level    source

   1          #include "mq2.h"
   2          uchar yanwu_dat[16];    //用于显示烟雾浓度的接收数据数组
   3          /*******************************************************************************
   4          * 函 数 名       : GetMQ2Value
   5          * 函数功能     : 获取MQ2数据
   6          * 输    入       : 无
   7          * 输    出       : value:MQ2数据
   8          *******************************************************************************/
   9          uint GetMQ2Value(void)
  10          {
  11   1        uint value=0;
  12   1        uchar j;
  13   1        for(j=0;j<50;j++)
  14   1        {
  15   2          value=value+Read_AD_Data(0xE4);
  16   2        }
  17   1        return value/50;
  18   1      }
  19          
  20          /*******************************************************************************
  21          * 函 数 名     : MQ2Data
  22          * 函数功能     : MQ2数据处理
  23          * 输    入     : value:MQ2数据
  24          * 输    出     : 无
  25          *******************************************************************************/
  26          void MQ2Data(uint value)
  27          {
  28   1            //LCD将要显示的数据
  29   1            yanwu_dat[0]='S'; 
  30   1            yanwu_dat[1]='m';
  31   1            yanwu_dat[2]='o';
  32   1            yanwu_dat[3]=':';
  33   1      //      yanwu_dat[4]=value/1000+'0';//千位
  34   1      //      yanwu_dat[5]=value%1000/100+'0';//百位
  35   1      //      yanwu_dat[6]=value%1000%100/10+'0';//十位
  36   1      //      yanwu_dat[7]=value%1000%100%10+'0'; //个位
  37   1            yanwu_dat[4]=value/10+'0';
  38   1            yanwu_dat[5]=value%10+'0';
  39   1            yanwu_dat[6]='%';
  40   1            yanwu_dat[7]=' ';
  41   1            yanwu_dat[8]=' ';
  42   1            yanwu_dat[9]=' ';
  43   1            yanwu_dat[10]='L';
  44   1            yanwu_dat[11]='E';
  45   1            yanwu_dat[12]='E';
  46   1            yanwu_dat[13]=' ';
  47   1            yanwu_dat[14]=' ';
  48   1            yanwu_dat[15]=' ';
  49   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    117    ----
   CONSTANT SIZE    =   ----    ----
C51 COMPILER V9.60.7.0   MQ2                                                               05/05/2023 16:30:08 PAGE 2   

   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     16       3
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
